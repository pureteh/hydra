"use strict";(self.webpackChunkhydra_head_protocol_docs=self.webpackChunkhydra_head_protocol_docs||[]).push([[2557],{3905:(t,e,n)=>{n.d(e,{Zo:()=>h,kt:()=>c});var i=n(67294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var s=i.createContext({}),f=function(t){var e=i.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):r(r({},e),t)),n},h=function(t){var e=f(t.components);return i.createElement(s.Provider,{value:e},t.children)},x="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return i.createElement(i.Fragment,{},e)}},y=i.forwardRef((function(t,e){var n=t.components,a=t.mdxType,o=t.originalType,s=t.parentName,h=l(t,["components","mdxType","originalType","parentName"]),x=f(n),y=a,c=x["".concat(s,".").concat(y)]||x[y]||m[y]||o;return n?i.createElement(c,r(r({ref:e},h),{},{components:n})):i.createElement(c,r({ref:e},h))}));function c(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var o=n.length,r=new Array(o);r[0]=y;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l[x]="string"==typeof t?t:a,r[1]=l;for(var f=2;f<o;f++)r[f]=n[f];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}y.displayName="MDXCreateElement"},66397:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>ui,contentTitle:()=>pi,default:()=>Li,frontMatter:()=>gi,metadata:()=>Fi,toc:()=>Si});var i,a,o,r,l,s,f,h,x,m,y,c,d,g,p,F,u,S,E,k,L,z,b,W,w,v,N,H,C,T,O,P,M,A,D,j,B,I,_,R,q,J,U,X,Z,$,G,K,Q,V,Y,tt,et,nt,it,at,ot,rt,lt,st,ft,ht,xt,mt,yt,ct,dt,gt,pt,Ft,ut,St,Et,kt,Lt,zt,bt,Wt,wt,vt,Nt,Ht,Ct,Tt,Ot,Pt,Mt,At,Dt,jt,Bt,It,_t,Rt,qt,Jt,Ut,Xt,Zt,$t,Gt,Kt,Qt,Vt,Yt,te,ee,ne,ie,ae,oe,re,le,se,fe,he,xe,me,ye,ce,de,ge,pe,Fe,ue,Se,Ee,ke,Le,ze,be,We,we,ve,Ne,He,Ce,Te,Oe,Pe,Me,Ae,De,je,Be,Ie,_e,Re,qe,Je,Ue,Xe,Ze,$e,Ge,Ke,Qe,Ve,Ye,tn,en,nn,an,on,rn,ln,sn,fn,hn,xn,mn,yn,cn,dn,gn,pn,Fn,un,Sn,En,kn,Ln,zn,bn,Wn,wn,vn,Nn,Hn,Cn,Tn,On,Pn,Mn,An,Dn,jn,Bn,In,_n,Rn,qn,Jn,Un,Xn,Zn,$n,Gn,Kn,Qn,Vn,Yn,ti,ei,ni,ii,ai,oi,ri,li,si,fi,hi,xi=n(87462),mi=n(67294),yi=n(3905);function ci(){return ci=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ci.apply(this,arguments)}const di=t=>{let{title:e,titleId:n,...xi}=t;return mi.createElement("svg",ci({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",height:842,preserveAspectRatio:"none",style:{width:1501,height:842,background:"#fff"},viewBox:"0 0 1501 842",width:1501,"aria-labelledby":n},xi),e?mi.createElement("title",{id:n},e):null,i||(i=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,fontWeight:"bold",textLength:151,x:668.25,y:22.995},"Hydra Components")),mi.createElement("rect",{fill:"none",height:571,rx:2.5,ry:2.5,style:{stroke:"#444",strokeWidth:1,strokeDasharray:"7,7"},width:927,x:309,y:44.297}),a||(a=mi.createElement("text",{fill:"#444",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:103,x:721,y:81.148},"Hydra Node")),o||(o=mi.createElement("text",{fill:"#444",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:80,x:732.5,y:96.061},"[Container]")),mi.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Persistence.hs",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Persistence.hs",xlinkType:"simple"},mi.createElement("rect",{fill:"#85BBF0",height:115.453,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:219,x:430.5,y:115.297}),r||(r=mi.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:497.5,y:136.435},"\xabcomponent\xbb")),l||(l=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:106,x:487,y:154.117},"Persistence")),s||(s=mi.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:58,x:511,y:169.029},"[JSON/FS]")),f||(f=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:538,y:184.855})),h||(h=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:55,x:440.5,y:201.151},"Persists")),x||(x=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:495.5,y:201.151})),m||(m=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:35,x:499.5,y:201.151},"state")),y||(y=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:534.5,y:201.151})),c||(c=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:13,x:538.5,y:201.151},"of")),d||(d=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:551.5,y:201.151})),g||(g=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:23,x:555.5,y:201.151},"the")),p||(p=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:578.5,y:201.151})),F||(F=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:35,x:582.5,y:201.151},"head")),u||(u=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:617.5,y:201.151})),S||(S=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:18,x:621.5,y:201.151},"on")),E||(E=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:28,x:526,y:217.448},"disk"))),mi.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/HeadLogic.hs",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/HeadLogic.hs",xlinkType:"simple"},mi.createElement("rect",{fill:"#85BBF0",height:101.484,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:219,x:658.5,y:291.297}),k||(k=mi.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:725.5,y:312.435},"\xabcomponent\xbb")),L||(L=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:44,x:720,y:330.117},"Head")),z||(z=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:764,y:330.117})),b||(b=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:46,x:770,y:330.117},"Logic")),W||(W=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:766,y:346.886})),w||(w=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:65,x:668.5,y:363.183},"Maintains")),v||(v=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:733.5,y:363.183})),N||(N=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:51,x:737.5,y:363.183},"internal")),H||(H=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:788.5,y:363.183})),C||(C=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:36,x:792.5,y:363.183},"Head")),T||(T=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:828.5,y:363.183})),O||(O=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:35,x:832.5,y:363.183},"state")),P||(P=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:26,x:691,y:379.479},"and")),M||(M=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:717,y:379.479})),A||(A=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:73,x:721,y:379.479},"processes")),D||(D=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:794,y:379.479})),j||(j=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:47,x:798,y:379.479},"events"))),mi.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/API/Server.hs",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/API/Server.hs",xlinkType:"simple"},mi.createElement("rect",{fill:"#85BBF0",height:101.484,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:210,x:1010,y:291.297}),B||(B=mi.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:1072.5,y:312.435},"\xabcomponent\xbb")),I||(I=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:30,x:1067.5,y:330.117},"API")),_||(_=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:1097.5,y:330.117})),R||(R=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:59,x:1103.5,y:330.117},"Server")),q||(q=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1113,y:346.886})),J||(J=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:48,x:1022,y:363.183},"Handle")),U||(U=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1070,y:363.183})),X||(X=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:37,x:1074,y:363.183},"client")),Z||(Z=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1111,y:363.183})),$||($=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:77,x:1115,y:363.183},"commands")),G||(G=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1192,y:363.183})),K||(K=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:12,x:1196,y:363.183},"&")),Q||(Q=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:52,x:1020,y:379.479},"queries")),V||(V=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1072,y:379.479})),Y||(Y=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:26,x:1076,y:379.479},"and")),tt||(tt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1102,y:379.479})),et||(et=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:46,x:1106,y:379.479},"serves")),nt||(nt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1152,y:379.479})),it||(it=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:54,x:1156,y:379.479},"outputs"))),mi.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Chain.hs",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Chain.hs",xlinkType:"simple"},mi.createElement("rect",{fill:"#85BBF0",height:117.781,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:196,x:684,y:481.297}),at||(at=mi.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:739.5,y:502.435},"\xabcomponent\xbb")),ot||(ot=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:48,x:758,y:520.117},"Chain")),rt||(rt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:780,y:536.886})),lt||(lt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:80,x:702,y:553.183},"Connection")),st||(st=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:782,y:553.183})),ft||(ft=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:786,y:553.183},"to")),ht||(ht=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:800,y:553.183})),xt||(xt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:58,x:804,y:553.183},"Cardano")),mt||(mt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:58,x:694,y:569.48},"Observe")),yt||(yt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:752,y:569.48})),ct||(ct=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:20,x:756,y:569.48},"txs")),dt||(dt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:776,y:569.48})),gt||(gt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:60,x:780,y:569.48},"on-chain")),pt||(pt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:840,y:569.48})),Ft||(Ft=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:26,x:844,y:569.48},"and")),ut||(ut=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:31,x:729,y:585.776},"post")),St||(St=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:760,y:585.776})),Et||(Et=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:12,x:764,y:585.776},"tx")),kt||(kt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:776,y:585.776})),Lt||(Lt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:780,y:585.776},"to")),zt||(zt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:794,y:585.776})),bt||(bt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:37,x:798,y:585.776},"chain"))),mi.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Chain/Direct/Wallet.hs",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Chain/Direct/Wallet.hs",xlinkType:"simple"},mi.createElement("rect",{fill:"#85BBF0",height:101.484,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:197,x:325.5,y:489.797}),Wt||(Wt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:381.5,y:510.935},"\xabcomponent\xbb")),wt||(wt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:55,x:396.5,y:528.617},"Wallet")),vt||(vt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:422,y:545.386})),Nt||(Nt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:76,x:338,y:561.683},"Embedded")),Ht||(Ht=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:414,y:561.683})),Ct||(Ct=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:41,x:418,y:561.683},"Wallet")),Tt||(Tt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:459,y:561.683})),Ot||(Ot=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:463,y:561.683},"to")),Pt||(Pt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:477,y:561.683})),Mt||(Mt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:29,x:481,y:561.683},"sign")),At||(At=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:85,x:335.5,y:577.98},"transactions")),Dt||(Dt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:420.5,y:577.98})),jt||(jt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:26,x:424.5,y:577.98},"and")),Bt||(Bt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:450.5,y:577.98})),It||(It=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:24,x:454.5,y:577.98},"pay")),_t||(_t=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:478.5,y:577.98})),Rt||(Rt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:30,x:482.5,y:577.98},"fees"))),mi.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Network.hs",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Network.hs",xlinkType:"simple"},mi.createElement("rect",{fill:"#85BBF0",height:101.484,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:191,x:325.5,y:291.297}),qt||(qt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:378.5,y:312.435},"\xabcomponent\xbb")),Jt||(Jt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:77,x:382.5,y:330.117},"Network")),Ut||(Ut=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:419,y:346.886})),Xt||(Xt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:63,x:335.5,y:363.183},"Manages")),Zt||(Zt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:398.5,y:363.183})),$t||($t=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:86,x:402.5,y:363.183},"connections")),Gt||(Gt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:488.5,y:363.183})),Kt||(Kt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:492.5,y:363.183},"to")),Qt||(Qt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:40,x:401,y:379.479},"peers"))),mi.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Logging.hs",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Logging.hs",xlinkType:"simple"},mi.createElement("rect",{fill:"#85BBF0",height:85.188,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:166,x:685,y:130.297}),Vt||(Vt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:725.5,y:151.435},"\xabcomponent\xbb")),Yt||(Yt=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:69,x:733.5,y:169.117},"Logging")),te||(te=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:766,y:185.886})),ee||(ee=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:42,x:695,y:202.183},"Dump")),ne||(ne=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:737,y:202.183})),ie||(ie=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:33,x:741,y:202.183},"JSON")),ae||(ae=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:774,y:202.183})),oe||(oe=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:778,y:202.183},"to")),re||(re=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:792,y:202.183})),le||(le=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:45,x:796,y:202.183},"stdout"))),mi.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Logging/Monitoring.hs",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Logging/Monitoring.hs",xlinkType:"simple"},mi.createElement("rect",{fill:"#85BBF0",height:101.484,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:168,x:886,y:122.297}),se||(se=mi.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:927.5,y:143.435},"\xabcomponent\xbb")),fe||(fe=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:95,x:922.5,y:161.117},"Monitoring")),he||(he=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:968,y:177.886})),xe||(xe=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:59,x:896,y:194.183},"Exposes")),me||(me=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:955,y:194.183})),ye||(ye=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:85,x:959,y:194.183},"Prometheus")),ce||(ce=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:51,x:944.5,y:210.48},"metrics"))),mi.createElement("rect",{fill:"#23AA12",height:85.188,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:178,x:915,y:497.797}),de||(de=mi.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:151,x:928.5,y:518.936},"\xabexternal\xbb\xabcomponent\xbb")),ge||(ge=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:73,x:933.5,y:536.617},"Cardano")),pe||(pe=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:1006.5,y:536.617})),Fe||(Fe=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:62,x:1012.5,y:536.617},"Ledger")),ue||(ue=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1002,y:553.386})),Se||(Se=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:65,x:925,y:569.683},"Maintains")),Ee||(Ee=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:990,y:569.683})),ke||(ke=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:36,x:994,y:569.683},"Layer")),Le||(Le=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1030,y:569.683})),ze||(ze=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:9,x:1034,y:569.683},"2")),be||(be=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1043,y:569.683})),We||(We=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:36,x:1047,y:569.683},"State")),mi.createElement("rect",{fill:"#438DD5",height:66.563,rx:2.5,ry:2.5,style:{stroke:"#3c7fc0",strokeWidth:.5},width:184,x:7,y:308.297}),we||(we=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:74,x:62,y:329.435},"\xabcontainer\xbb")),ve||(ve=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:51,x:17,y:347.117},"Hydra")),Ne||(Ne=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:68,y:347.117})),He||(He=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:46,x:74,y:347.117},"Node")),Ce||(Ce=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:120,y:347.117})),Te||(Te=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:55,x:126,y:347.117},"(peer)")),Oe||(Oe=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:38,x:31.5,y:362.029},"[Local")),Pe||(Pe=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:69.5,y:362.029})),Me||(Me=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:93,x:73.5,y:362.029},"cardano-node]")),mi.createElement("rect",{fill:"#438DD5",height:66.563,rx:2.5,ry:2.5,style:{stroke:"#3c7fc0",strokeWidth:.5},width:150,x:467,y:727.797}),Ae||(Ae=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:74,x:505,y:748.936},"\xabcontainer\xbb")),De||(De=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:73,x:479.5,y:766.617},"Cardano")),je||(je=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:552.5,y:766.617})),Be||(Be=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:46,x:558.5,y:766.617},"Node")),Ie||(Ie=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:38,x:477,y:781.529},"[Local")),_e||(_e=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:515,y:781.529})),Re||(Re=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:88,x:519,y:781.529},"cadano-node]")),mi.createElement("rect",{fill:"#438DD5",height:66.563,rx:2.5,ry:2.5,style:{stroke:"#3c7fc0",strokeWidth:.5},width:206,x:62,y:506.797}),qe||(qe=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:74,x:128,y:527.936},"\xabcontainer\xbb")),Je||(Je=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:73,x:72,y:545.617},"Cardano")),Ue||(Ue=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:145,y:545.617})),Xe||(Xe=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:46,x:151,y:545.617},"Node")),Ze||(Ze=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:197,y:545.617})),$e||($e=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:55,x:203,y:545.617},"(peer)")),Ge||(Ge=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:38,x:97.5,y:560.529},"[Local")),Ke||(Ke=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:135.5,y:560.529})),Qe||(Qe=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:93,x:139.5,y:560.529},"cardano-node]")),mi.createElement("rect",{fill:"#438DD5",height:52.594,rx:2.5,ry:2.5,style:{stroke:"#3c7fc0",strokeWidth:.5},width:127,x:1368.5,y:315.297}),Ve||(Ve=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:74,x:1395,y:336.435},"\xabcontainer\xbb")),Ye||(Ye=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:51,x:1378.5,y:354.117},"Hydra")),tn||(tn=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:1429.5,y:354.117})),en||(en=mi.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:50,x:1435.5,y:354.117},"Client")),mi.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/tree/master/hydra-plutus",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/tree/master/hydra-plutus",xlinkType:"simple"},mi.createElement("rect",{fill:"#85BBF0",height:150.375,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:208,x:678,y:686.297}),nn||(nn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:739.5,y:707.436},"\xabcomponent\xbb")),an||(an=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:51,x:727,y:725.117},"Hydra")),on||(on=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:778,y:725.117})),rn||(rn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:53,x:784,y:725.117},"Smart")),ln||(ln=mi.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:88,x:738,y:743.742},"Contracts")),sn||(sn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:47,x:758.5,y:758.654},"[Plutus]")),fn||(fn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:780,y:774.48})),hn||(hn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:62,x:695,y:790.776},"On-chain")),xn||(xn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:757,y:790.776})),mn||(mn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:39,x:761,y:790.776},"smart")),yn||(yn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:800,y:790.776})),cn||(cn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:65,x:804,y:790.776},"contracts")),dn||(dn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:72,x:688,y:807.073},"controlling")),gn||(gn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:760,y:807.073})),pn||(pn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:23,x:764,y:807.073},"the")),Fn||(Fn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:787,y:807.073})),un||(un=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:68,x:791,y:807.073},"behaviour")),Sn||(Sn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:859,y:807.073})),En||(En=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:13,x:863,y:807.073},"of")),kn||(kn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:23,x:708,y:823.37},"the")),Ln||(Ln=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:731,y:823.37})),zn||(zn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:57,x:735,y:823.37},"protocol")),bn||(bn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:792,y:823.37})),Wn||(Wn=mi.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:60,x:796,y:823.37},"on-chain"))),mi.createElement("path",{d:"M526.1 341.797h122.58",fill:"none",style:{stroke:"#666",strokeWidth:1}}),mi.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m518.25 341.797 8 3v-6l-8 3zM656.66 341.797l-8-3v6l8-3z"}),wn||(wn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:42,x:535,y:321.935},"Hydra")),vn||(vn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4,x:577,y:321.935})),Nn||(Nn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:59,x:581,y:321.935},"Protocol")),Hn||(Hn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:72,x:551.5,y:335.904},"Messages")),mi.createElement("path",{d:"M887.28 341.797h113.34",fill:"none",style:{stroke:"#666",strokeWidth:1}}),mi.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m879.31 341.797 8 3v-6l-8 3zM1008.26 341.797l-8-3v6l8-3z"}),Cn||(Cn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:78,x:897.75,y:321.935},"ClientInput")),Tn||(Tn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4,x:975.75,y:321.935})),On||(On=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:10,x:979.75,y:321.935},"&")),Pn||(Pn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:96,x:895.75,y:335.904},"ServerOutput")),mi.createElement("path",{d:"M772.22 402.027c1.57 22.03 3.36 47.18 4.98 69.88",fill:"none",style:{stroke:"#666",strokeWidth:1}}),mi.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m771.66 394.147-2.421 8.194 5.984-.429-3.563-7.765zM777.75 479.627l2.42-8.194-5.984.429 3.564 7.765z"}),Mn||(Mn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:87,x:776,y:434.435},"Observation")),An||(An=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4,x:863,y:434.435})),Dn||(Dn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:10,x:867,y:434.435},"&")),jn||(jn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:75,x:789,y:448.404},"OnChainTx")),mi.createElement("path",{d:"M846.62 392.737c13.46 9.4 27.06 19.46 39.38 29.56 25.57 20.98 51.9 46.63 73.19 68.56",fill:"none",style:{stroke:"#666",strokeWidth:1}}),mi.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m964.57 496.447-3.387-7.844-4.323 4.161 7.71 3.683z"}),Bn||(Bn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:39,x:917,y:441.435},"Apply")),In||(In=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4,x:956,y:441.435})),_n||(_n=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:15,x:960,y:441.435},"Tx")),mi.createElement("path",{d:"M532.28 540.297h151.27",fill:"none",style:{stroke:"#666",strokeWidth:1}}),mi.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m524.29 540.297 8 3v-6l-8 3z"}),Rn||(Rn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:31,x:540.75,y:534.436},"Sign")),qn||(qn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4,x:571.75,y:534.436})),Jn||(Jn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:90,x:575.75,y:534.436},"transactions")),mi.createElement("path",{d:"M782 599.697v76.91",fill:"none",style:{stroke:"#666",strokeWidth:1}}),mi.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m782 684.447 3-8h-6l3 8z"}),Un||(Un=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:27,x:783,y:648.436},"Use")),mi.createElement("path",{d:"M709.19 605.867c-9.51 8.52-19.1 17.17-28.19 25.43-32.9 29.92-69.77 64.17-97.27 89.86",fill:"none",style:{stroke:"#666",strokeWidth:1}}),mi.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m714.96 600.697-7.959 3.108 4.007 4.467 3.952-7.575zM578.06 726.457l7.894-3.268-4.095-4.385-3.799 7.653z"}),Xn||(Xn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0,x:727.5,y:632.297},".")),Zn||(Zn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:30,x:682,y:653.436},"[N2C")),$n||($n=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:712,y:653.436})),Gn||(Gn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:57,x:716,y:653.436},"protocol]")),mi.createElement("path",{d:"M229.57 578.807c69.33 40.27 178.84 103.89 248.09 144.11",fill:"none",style:{stroke:"#666",strokeWidth:1}}),mi.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m222.75 574.847 5.418 6.606 3.008-5.191-8.426-1.415zM484.17 726.707l-5.412-6.611-3.013 5.189 8.425 1.422z"}),Kn||(Kn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0,x:400,y:632.297},".")),Qn||(Qn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:31,x:354,y:653.436},"[N2N")),Vn||(Vn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:385,y:653.436})),Yn||(Yn=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:57,x:389,y:653.436},"protocol]")),mi.createElement("path",{d:"M113.03 384.567c11.15 33.2 26.68 79.44 37.86 112.71",fill:"none",style:{stroke:"#666",strokeWidth:1}}),mi.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m110.53 377.117-.302 8.538 5.69-1.906-5.388-6.632zM153.44 504.867l.287-8.54-5.685 1.917 5.398 6.623z"}),ti||(ti=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0,x:180.5,y:425.297},".")),ei||(ei=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:30,x:135,y:446.435},"[N2C")),ni||(ni=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:165,y:446.435})),ii||(ii=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:57,x:169,y:446.435},"protocol]")),mi.createElement("path",{d:"M200.72 341.797h115.06",fill:"none",style:{stroke:"#666",strokeWidth:1}}),mi.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m192.79 341.797 8 3v-6l-8 3zM323.56 341.797l-8-3v6l8-3z"}),ai||(ai=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0,x:258.25,y:300.797},".")),oi||(oi=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:42,x:209.25,y:321.935},"[Hydra")),ri||(ri=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:251.25,y:321.935})),li||(li=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:52,x:255.25,y:321.935},"Network")),si||(si=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:57,x:229.75,y:335.904},"protocol]")),mi.createElement("path",{d:"M1229.39 341.797h129.85",fill:"none",style:{stroke:"#666",strokeWidth:1}}),mi.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m1221.63 341.797 8 3v-6l-8 3zM1366.78 341.797l-8-3v6l8-3z"}),fi||(fi=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0,x:1294.25,y:314.797},".")),hi||(hi=mi.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:112,x:1238.25,y:335.935},"[JSON/Websocket]")))},gi={sidebar_position:2},pi="Hydra Node Architecture",Fi={unversionedId:"architecture/index",id:"architecture/index",title:"Hydra Node Architecture",description:"This document describes the architecture of the current implementation",source:"@site/core-concepts/architecture/index.md",sourceDirName:"architecture",slug:"/architecture/",permalink:"/head-protocol/unstable/ja/core-concepts/architecture/",draft:!1,editUrl:"https://github.com/input-output-hk/hydra/tree/master/docs/core-concepts/architecture/index.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"defaultSidebar",previous:{title:"\u6982\u8981",permalink:"/head-protocol/unstable/ja/core-concepts/"},next:{title:"Hydra Networking",permalink:"/head-protocol/unstable/ja/core-concepts/architecture/networking"}},ui={},Si=[{value:"Network",id:"network",level:3},{value:"Chain Interaction",id:"chain-interaction",level:3},{value:"Chain",id:"chain",level:4},{value:"Wallet",id:"wallet",level:4},{value:"Head Logic",id:"head-logic",level:3},{value:"Hydra Smart Contracts",id:"hydra-smart-contracts",level:3},{value:"API",id:"api",level:3},{value:"Persistence",id:"persistence",level:3},{value:"Logging",id:"logging",level:3},{value:"Monitoring",id:"monitoring",level:3}],Ei={toc:Si},ki="wrapper";function Li(t){let{components:e,...n}=t;return(0,yi.kt)(ki,(0,xi.Z)({},Ei,n,{components:e,mdxType:"MDXLayout"}),(0,yi.kt)("h1",{id:"hydra-node-architecture"},"Hydra Node Architecture"),(0,yi.kt)("p",null,"This document describes the architecture of the current implementation\nof a ",(0,yi.kt)("inlineCode",{parentName:"p"},"hydra-node"),". The following picture represents the main\ncomponents of a Hydra node using the ",(0,yi.kt)("a",{parentName:"p",href:"https://c4model.com/#ComponentDiagram"},"C4 Component\nDiagram")," notation."),(0,yi.kt)(di,{className:"architecture",mdxType:"ArchitectureSvg"}),(0,yi.kt)("admonition",{type:"info"},(0,yi.kt)("p",{parentName:"admonition"},"This diagram is manually produced using ",(0,yi.kt)("a",{parentName:"p",href:"https://plantuml.com"},"PlantUML")," graphing tool with ",(0,yi.kt)("a",{parentName:"p",href:"https://github.com/plantuml-stdlib/C4-PlantUML"},"C4 extensions"),"."),(0,yi.kt)("pre",{parentName:"admonition"},(0,yi.kt)("code",{parentName:"pre"},"$ plantuml -Tsvg architecture-c4.puml\n"))),(0,yi.kt)("h3",{id:"network"},"Network"),(0,yi.kt)("p",null,(0,yi.kt)("em",{parentName:"p"},"Network")," component is responsible for all of the communications related to the off-chain part of the Hydra protocol between hydra-nodes. The ",(0,yi.kt)("a",{parentName:"p",href:"./networking"},"current implementation")," is based on the ",(0,yi.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/typed-protocols"},"Typed Protocols")," library which is also at the heart of the Cardano node's networking. It's asynchronous by nature and using push based protocol. Messages are exchanged between nodes on each event and currently there is no message authentication in place. We rely on a fact that we know each peers IP address and a port and ",(0,yi.kt)("em",{parentName:"p"},"trust")," these messages blindly. There are ",(0,yi.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/hydra/issues/727"},"plans")," on introducing message signing to improve on security properties of the hydra protocol."),(0,yi.kt)("h3",{id:"chain-interaction"},"Chain Interaction"),(0,yi.kt)("h4",{id:"chain"},"Chain"),(0,yi.kt)("p",null,"The ",(0,yi.kt)("em",{parentName:"p"},"Chain")," component is responsible for interfacing the Hydra node with the Cardano (aka. Layer 1) chain. The current, so-called ",(0,yi.kt)("inlineCode",{parentName:"p"},"Direct"),", implementation uses the ",(0,yi.kt)("inlineCode",{parentName:"p"},"Node-to-Client")," protocol to both \"follow the chain\" and observe new blocks and transactions which can change the state of the head, and submit transactions in response to client's requests or as needed to advance the protocol's state. It connects to a locally spun cardano-node using the ",(0,yi.kt)("em",{parentName:"p"},"local socket_and contains the _off-chain")," logic, based on cardano-api, that knows how to observe and build transactions relevant to the Hydra protocol. See  ",(0,yi.kt)("a",{parentName:"p",href:"/adr/10"},"ADR-10")," for more details."),(0,yi.kt)("h4",{id:"wallet"},"Wallet"),(0,yi.kt)("p",null,"The Hydra node maintains an internal wallet using the Cardano signing key provided to the ",(0,yi.kt)("inlineCode",{parentName:"p"},"hydra-node"),". This is used to handle the payment of transaction fees and signing transactions."),(0,yi.kt)("h3",{id:"head-logic"},"Head Logic"),(0,yi.kt)("p",null,"This is the component which is the heart of the Hydra node, implementing the protocol's ",(0,yi.kt)("em",{parentName:"p"},"input-output state machine"),". It is structured around the concepts of ",(0,yi.kt)("inlineCode",{parentName:"p"},"Event"),"s and ",(0,yi.kt)("inlineCode",{parentName:"p"},"Effect"),"s:"),(0,yi.kt)("ul",null,(0,yi.kt)("li",{parentName:"ul"},(0,yi.kt)("inlineCode",{parentName:"li"},"Event"),"s are ",(0,yi.kt)("em",{parentName:"li"},"inputs")," to the state machine from various parts of the node that can change the state and they ..."),(0,yi.kt)("li",{parentName:"ul"},"... produce ",(0,yi.kt)("inlineCode",{parentName:"li"},"Effect"),"s which are ",(0,yi.kt)("em",{parentName:"li"},"outputs"),' from the state machine interpreted by other components to produce "side-effects".')),(0,yi.kt)("p",null,"The ",(0,yi.kt)("em",{parentName:"p"},"Head Logic")," of course maintains the internal state of the head and persists it when it changes. This state consists in both the content of the Head itself (eg. current Ledger, transactions pending) ",(0,yi.kt)("em",{parentName:"p"},"and")," the data from the Layer 1 that's needed to observe and trigger on-chain transitions."),(0,yi.kt)("h3",{id:"hydra-smart-contracts"},"Hydra Smart Contracts"),(0,yi.kt)("p",null,'This "component" represents  all of the Hydra smart contracts needed for Head protocol operation. Currently the contracts are written using ',(0,yi.kt)("inlineCode",{parentName:"p"},"Plutus-Tx"),". The scripts are optimized using custom ",(0,yi.kt)("inlineCode",{parentName:"p"},"ScriptContext")," and error codes for now."),(0,yi.kt)("h3",{id:"api"},"API"),(0,yi.kt)("p",null,(0,yi.kt)("inlineCode",{parentName:"p"},"hydra-node")," exposes an ",(0,yi.kt)("a",{parentName:"p",href:"https://hydra.family/head-protocol/unstable/api-reference"},"Asynchronous API")," through a Websocket server. This API is available to ",(0,yi.kt)("em",{parentName:"p"},"Hydra Client")," to send commands and observe changes in the state of the Hydra head. Upon startup, the API server loads all historical messages from persistence layer and serves them to clients in case they are interested in observing them."),(0,yi.kt)("h3",{id:"persistence"},"Persistence"),(0,yi.kt)("p",null,"All API server outputs and the ",(0,yi.kt)("inlineCode",{parentName:"p"},"hydra-node")," state is preserved on disk. The persistence layer is responsible for loading the historical messages/hydra state from disk and also storing them. For the time being there was no need to make this layer more complex or use a database."),(0,yi.kt)("h3",{id:"logging"},"Logging"),(0,yi.kt)("p",null,"The Hydra node logs all side-effects occurring internally as JSON-formatted messages to the ",(0,yi.kt)("em",{parentName:"p"},"standard output")," stream attached to its process. The format of the logs is documented as a ",(0,yi.kt)("a",{parentName:"p",href:"https://raw.githubusercontent.com/input-output-hk/hydra/master/hydra-node/json-schemas/logs.yaml"},"JSON schema"),", and follows the principles outlined in ",(0,yi.kt)("a",{parentName:"p",href:"/adr/9"},"ADR-9"),"."),(0,yi.kt)("h3",{id:"monitoring"},"Monitoring"),(0,yi.kt)("p",null,"The Hydra node ",(0,yi.kt)("a",{parentName:"p",href:"https://hydra.family/head-protocol/docs/getting-started/quickstart#hydra-node-options"},"optionally")," exposes ",(0,yi.kt)("a",{parentName:"p",href:"https://prometheus.io/"},"Prometheus"),"-compliant ",(0,yi.kt)("em",{parentName:"p"},"metrics")," through an HTTP server, on the standard ",(0,yi.kt)("inlineCode",{parentName:"p"},"/metrics")," endpoint."))}Li.isMDXComponent=!0}}]);